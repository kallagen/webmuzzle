@using TSensor.Web.Models.Services;
@model SearchViewModel<Tank>
@{
    ViewBag.Title = "Настройка массомеров";
}

@section AdditionalHeader
{
    @Html.ActionLink("Добавить массомер", "Create", "Massmeter", null, new { @class = "btn bg-blue btn-block pull-right" })
}
<div class="row">
    <div class="col-md-12">
        @if (!Model.HasData)
        {
            <h4>ничего не найдено</h4>
        }
        else
        {
            <div class="box box-solid">
                <div class="box-body table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th rowspan="2" class="table-center-header">Название</th>
                                <th colspan="3" class="text-center">Основной датчик</th>
                                <th colspan="3" class="text-center">Дополнительный датчик</th>
                                <th rowspan="2" class="table-center-header">Примечание</th>
                            </tr>
                            <tr>
                                <th>Код устройства</th>
                                <th>Код ИЗК</th>
                                <th>Код датчика</th>
                                <th>Код устройства</th>
                                <th>Код ИЗК</th>
                                <th>Код датчика</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.Data.OrderBy(p => p.Name, new AlphanumComparer()))
                            {
                                <tr>
                                    <td>@Html.ActionLink(item.Name, "Edit", "Massmeter", new { massmeterGuid = item.TankGuid }, null)</td>
                                    <td>@item.MainDeviceGuid</td>
                                    <td>@item.MainIZKId</td>
                                    <td>@item.MainSensorId</td>
                                    <td>@item.SecondDeviceGuid</td>
                                    <td>@item.SecondIZKId</td>
                                    <td>@item.SecondSensorId</td>
                                    <td>@item.Description</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        }
    </div>
</div>
@Html.ViewModelWindow()